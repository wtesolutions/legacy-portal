/* assets/css/main.css */

/* ==========================================================================
   Table of Contents
   ==========================================================================
    1. CSS Variables (Root)
    2. Base & Universal Styles
    3. Layout Styles
    4. Header Styles
    5. Navigation Styles
       5.1 Horizontal Navigation
       5.2 Dropdown Content
       5.3 Mobile Menu
    6. Alert Card Styles (Dashboard)
    7. Main Content Styles
    8. Card Styles (General)
    9. Form Styles (General)
   10. Button Styles (General)
   11. Page-Specific Styles
       11.1 Dashboard Page
       11.2 Accounts Page
       11.3 Vault Page
       11.4 Resources Page
       11.5 User Profile & Settings Pages (Shared Styles)
       11.6 FAQ & Support Page
       11.7 Notifications Page
       11.8 Access & Sharing Page
       11.9 Add Account Page (Wizard)
       11.10 Account Details Page
       11.11 Privacy Policy & Static Content Pages
   12. Modal Styles
   13. Utility Classes
   14. Responsive Styles
   15. Accessibility Styles (High Contrast)
   16. Animation Styles
   ========================================================================== */

/* ==========================================================================
   1. CSS Variables (Root)
   ========================================================================== */
:root {
    /* LegacySafe PDF Style Guide Inspired Colors */
    --primary: #212552; /* Deep Navy Blue - Professional and Trustworthy */
    --primary-light: #93D6E9; /* Lighter blue for hover states or secondary elements */
    --secondary: #F4FBFD; /* Very light blue/gray for subtle backgrounds or accents */
    --accent: #4BA3BC; /* A brighter blue for calls to action and highlights */
    --success: #7fb069; /* Green for success, completion */
    --danger: #DC3545; /* Red for alerts, errors, crisis */
    --warning: #F1C40F; /* Yellow/Orange for warnings, incomplete items */
    
    --light-bg: #F8F9FA; /* Main background - Off-white/Very Light Gray */
    --medium-bg: #E8E8E8; /* Main background - Medium Gray */
    --card-bg: #FFFFFF; /* Card background - White */
    
    --text-dark: #212529; /* Primary text color - Dark Gray/Black */
    --text-medium: #495057; /* Secondary text color - Medium Gray */
    --text-light: #6C757D; /* Tertiary text color - Lighter Gray */
    
    --border-color: #DEE2E6; /* Light gray for borders and dividers */
    --border-radius: 8px;
    --border-radius-btn: 20px;
    --box-padding: 20px; /* Standard padding/gap for boxes*/
    --shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Softer shadow */
    --transition: all 0.3s ease;

    /* Bank Specific Colors (Keep these for branding) */
    --wells-fargo: #D71E28;
    --bank-of-america: #012169;
    --edward-jones: #006341;
    --edward-jones-light: #007d52;
    --edward-jones-dark: #004d32;
    --edward-jones-accent: #f2a900;
    --chase: #117ACA;
    --citibank: #0E2240;
    --charles-schwab: #00A0DF;
    --fidelity: #569BBE;
    --vanguard: #C4151C;
    --td-ameritrade: #4B9E2D;
    --navy-federal: #1A4784;
    --usaa: #002A41;
    --pnc: #F58025;
    --us-bank: #0A2240;
}

/* ==========================================================================
   2. Base & Universal Styles
   ========================================================================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.3em;
}

html {
    scroll-behavior: smooth;
}

body {
    background-color: var(--light-bg);
    color: var(--text-dark);
    font-size: 16px;
    line-height: 1.6;
    overflow-x: hidden;
    position: relative; /* For pseudo-element positioning */
}

body::before { /* Security Pattern Background */
    content: "";
    position: fixed; 
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23003366' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    z-index: -1;
    opacity: 0.5; 
}


a {
    text-decoration: none;
    color: var(--primary);
    transition: var(--transition);
}

a:hover {
    color: var(--primary-light);
}

img {
    max-width: 100%;
    height: auto;
    display: block;
}

/* ==========================================================================
   3. Layout Styles
   ========================================================================== */
.container {
    display: grid;
    grid-template-columns: 1fr 300px; /* Default for dashboard */
    grid-template-rows: 70px 60px auto 1fr; 
    grid-template-areas:
        "header header"
        "nav nav"
        "alert alert" 
        "main rightbar";
    height: 100vh;
    min-height: 100vh; 
}

.container.single-column { /* For pages like user-profile, notifications */
    grid-template-columns: 1fr;
    grid-template-rows: 70px 60px auto 1fr; /* Header, Nav, Alert, Main */
    grid-template-areas:
        "header"
        "nav"
        "alert" 
        "main";
}
.container.single-column .right-sidebar {
    display: none;
}

.container.single-column-no-alert { /* For pages that don't need the alert or right sidebar */
    grid-template-columns: 1fr;
    grid-template-rows: 70px 60px 1fr;
     grid-template-areas:
        "header"
        "nav"
        "main";
}
.container.single-column-no-alert .alert-card-container,
.container.single-column-no-alert .right-sidebar {
    display: none;
}


/* ==========================================================================
   4. Header Styles
   ========================================================================== */
.header {
    grid-area: header;
    background-color: var(--primary-light);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    position: sticky; 
    top: 0;
    z-index: 100;
}

.logo {
    display: flex;
    align-items: center;
    text-decoration: none;
}

.logo img { 
    height: 30px; 
    margin-right: 10px;
}

.logo h1 { 
    font-size: 24px;
    color: var(--primary);
    font-weight: 600;
}

.header-right {
    display: flex;
    align-items: center;
}

.notifications-icon-header, 
.user-profile-icon-header {
    position: relative;
    margin-left: 20px; 
    cursor: pointer;
    display: flex;
}
.notifications-icon-header.active i, /* Style for active notification bell */
.user-profile-icon-header.active i { /* Style for active user profile */
    color: var(--primary); /* Example: make icon primary color when on its page */
}


.notifications-icon-header i,
.user-profile-icon-header i {
    font-size: 20px;
    color: var(--card-bg);
}

.notification-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background-color: var(--danger);
    color: var(--card-bg);
    border-radius: 50%;
    width: 18px;
    height: 18px;
    font-size: 12px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.user-avatar { 
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: var(--primary);
    color: var(--card-bg);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 18px;
    margin-right: 10px;
}

.user-info { 
    display: flex;
    flex-direction: column;        /* row layout: title left, status right */
    align-items: center;        /* vertically center contents */
}

.user-name {
    font-weight: 600;
    font-size: 16px;
    color: var(--text-dark);
}

.user-role {
    font-size: 12px;
    color: var(--text-light);
}

/* ==========================================================================
   5. Navigation Styles
   ========================================================================== */
/* --- 5.1 Horizontal Navigation --- */
.horizontal-nav {
    grid-area: nav;
    background-color: var(--primary);
    display: flex;
    align-items: center;
    padding: 0 20px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    position: sticky; 
    top: 70px; 
    z-index: 99;
    overflow-x: auto; 
}

.nav-items {
    display: flex;
    list-style: none;
    height: 100%;
    margin: 0;
    padding: 0;
}

.nav-item {
    display: flex;
    align-items: center;
    height: 100%;
    padding: 0 15px; 
    color: var(--card-bg);
    font-weight: 600;
    font-size: 10px; 
    cursor: pointer;
    transition: var(--transition);
    position: relative;
    white-space: nowrap;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.nav-item.active {
    background-color: var(--card-bg);
    color: var(--primary);
    box-shadow: inset 0 -3px 0 var(--card-bg);
}

.nav-item:hover:not(.active):not(.dropdown) {
    background-color: rgba(255, 255, 255, 0.1);
}

.nav-item i { 
    margin-right: 8px;
    font-size: 16px; 
}

.nav-item .fa-caret-down { 
    margin-left: 5px;
    font-size: 0.8em;
}

/* --- 5.2 Dropdown Content --- */
.dropdown-content {
    display: none;
    position: absolute;
    background-color: var(--card-bg);
    min-width: 220px; 
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 101; 
    top: 100%; 
    left: 0;
    border-radius: 0 0 var(--border-radius) var(--border-radius);
    border: 1px solid var(--border-color);
    border-top: none;
}
.nav-item.dropdown:hover .dropdown-content {
    display: block;
}
.dropdown-content a {
    color: var(--text-dark);
    padding: 12px 16px;
    text-decoration: none;
    display: block;
    font-weight: normal; 
    font-size: 14px;
}
.dropdown-content a:hover {
    background-color: var(--secondary);
    color: var(--primary);
}
.dropdown-content a.active-dropdown-item { /* For highlighting active item within dropdown */
    background-color: var(--secondary);
    color: var(--primary);
    font-weight: bold;
}

.new-badge {
    position: absolute;
    top: 8px; 
    right: 8px; 
    background-color: var(--accent);
    color: var(--card-bg);
    font-size: 10px;
    padding: 2px 6px;
    border-radius: 10px;
    font-weight: bold;
}

/* --- 5.3 Mobile Menu --- */
.mobile-menu-toggle {
    display: none;
    font-size: 24px;
    cursor: pointer;
    margin-left: auto;
    color: var(--card-bg);
    padding: 10px; 
}

/* ==========================================================================
   6. Alert Card Styles (Dashboard)
   ========================================================================== */
.alert-card-container {
    grid-area: alert;
    padding: 20px 20px; 
    background-color: var(--card-bg); 
}

.alert-card {
    border: 1px solid #e0e0e0; 
    border-radius: 6px;
    background-color: #fafafa; 
    max-width: 100%; 
    margin: 0 auto; 
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    font-family: sans-serif; 
}
.alert-body { display: flex; align-items: flex-start; padding: 1rem; }
.alert-icon { flex: 0 0 auto; margin-right: 0.75rem; font-size: 1.5rem;  color: #c00; }
.alert-content { flex: 1 1 auto; }
.alert-title { margin: 0; font-size: 1.125rem; font-weight: 600; color: #333; }
.alert-text { margin: 0.5rem 0 0; color: #555; line-height: 1.4; }
.alert-footer { display: flex; justify-content: space-between; padding: 0.75rem 1rem; background-color: #f0f0f0; border-top: 1px solid #e0e0e0; font-size: 0.875rem; color: #666; }
.card-tip { display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 1rem; background: var(--primary); color: var(--secondary);}
.card-tip h2{color: var(--secondary);}
.footer-label { font-weight: 500; }
.footer-timestamp { font-style: italic; }


/* ==========================================================================
   7. Main Content Styles
   ========================================================================== */
.main-content {
    grid-area: main;
    padding: 20px 40px 40px 40px;
    overflow-y: auto;
}

.page-title {
    font-size: 28px; 
    font-weight: 600;
    margin-bottom: 20px;
    color: var(--primary);
}

.page-subtitle {
    font-size: 16px;
    color: var(--text-medium);
    margin-bottom: 25px;
}

.dashboard-header-row {
    display: flex;
    justify-content: space-between; 
    align-items: center;
    margin-bottom: 20px;
}
.dashboard-header-row h1 { 
    font-size: 24px;
    font-weight: 600;
    color: var(--text-dark); 
    margin: 0; 
    text-align: left; 
}

/* ==========================================================================
   8. Card Styles (General)
   ========================================================================== */
.card {
    background-color: var(--card-bg);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    padding: 30px;
    transition: var(--transition);
    border: 1px solid var(--border-color);
    margin-bottom: 20px; 
}
.card:hover { transform: translateY(-5px); box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); }
.card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid var(--border-color); }
.card-header:last-child { margin-bottom: 0; border-bottom: none; padding-bottom: 0; }
.card-title { font-size: 20px; font-weight: 600; color: var(--primary); margin:15px 0; }
.card-subtitle { font-size: 18px; font-weight: 600; color: var(--primary); margin:15px 0; }
.card-icon { width: 40px; height: 40px; border-radius: 50%; background-color: var(--primary-light); color: var(--card-bg); display: flex; justify-content: center; align-items: center; font-size: 20px; }
.card-header-link { font-size: 18px;  color: var(--accent); text-decoration: none; }
.card-header-link:hover { color: var(--primary-light); }
.card-actions { display: flex; gap: 10px; } /* For buttons/actions in card header */

/* ==========================================================================
   9. Form Styles (General)
   ========================================================================== */
.form-container { background-color: var(--card-bg); padding: 30px; border-radius: var(--border-radius); box-shadow: var(--shadow); border: 1px solid var(--border-color); max-width: 700px; margin: 0 auto 20px auto; }
.form-section { margin-bottom: 30px; }
.form-section-title { font-size: 20px; font-weight: 600; color: var(--primary); margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid var(--border-color); }
.form-group { margin-bottom: 20px; }
.form-label { display: block; font-size: 16px; font-weight: 600; margin-bottom: 8px; color: var(--primary); }
.form-control { width: 100%; padding: 12px 15px; font-size: 16px; border: 1px solid var(--border-color); border-radius: var(--border-radius); background-color: var(--card-bg); transition: var(--transition); color: var(--text-dark); }
.form-control:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(0, 51, 102, 0.1); outline: none; }
.form-control[readonly] { background-color: var(--light-bg); cursor: not-allowed; }
.form-control.is-invalid { border-color: var(--danger); }
.invalid-feedback { color: var(--danger); font-size: 14px; margin-top: 5px; display: none; }
.is-invalid ~ .invalid-feedback { display: block; }
.form-text { font-size: 13px; color: var(--text-light); margin-top: 5px; }
.form-check { display: flex; align-items: center; margin-bottom: 10px; }
.form-check-input { width: 20px; height: 20px; margin-right: 10px; cursor: pointer; }
.form-check-label { font-size: 16px; cursor: pointer; color: var(--text-dark); }
.form-row { display: flex; flex-wrap: wrap; margin: 0 -10px 20px; } /* For add-account page */
.form-group.full-width { flex: 1 0 calc(100% - 20px); } /* For add-account page */


/* ==========================================================================
   10. Button Styles (General)
   ========================================================================== */
.btn { display: inline-flex; align-items: center; justify-content: center; padding: 10px 20px; border-radius: var(--border-radius-btn); font-size: 14px; font-weight: 600; cursor: pointer; transition: var(--transition); border: none; text-decoration: none; }
.btn i { margin-right: 8px; }
.btn-primary { background-color: var(--primary); color: var(--card-bg); }
.btn-primary:hover { background-color: var(--primary-light); }
.btn-secondary { background-color: var(--border-color); color: var(--text-medium); }
.btn-secondary:hover { background-color: var(--text-light); color: var(--card-bg); }
.btn-success { background-color: var(--success); color: var(--card-bg); }
.btn-success:hover { background-color: #1e7e34; }
.btn-danger { background-color: var(--danger); color: var(--card-bg); }
.btn-danger:hover { background-color: #C82333; }
.btn-warning { background-color: var(--warning); color: var(--card-bg); }
.btn-warning:hover { background-color: #e68a00; }
.btn-accent { background-color: var(--accent); color: var(--card-bg); }
.btn-accent:hover { background-color: #0056b3; }
.btn-outline { background-color: transparent; border: 2px solid var(--primary); color: var(--primary); }
.btn-outline:hover { background-color: var(--primary); color: var(--card-bg); }
.btn-link { background-color: transparent; color: var(--primary); padding: 12px 0; font-weight: normal; }
.btn-link:hover { text-decoration: underline; color: var(--primary-light); }
.btn-disabled, .btn:disabled { background-color: var(--border-color); color: var(--text-light); cursor: not-allowed; opacity: 0.65; }

/* --------------------------------------------------------------------------
   Standardize all other button-like elements to match .add-button styling
   -------------------------------------------------------------------------- */
.crisis-button,
.file-upload-btn,
.support-button,
.advisor-btn,
.action-btn,
.bulk-btn,
.article-read-more {
    border-radius: var(--border-radius-btn);
    font-size: 14px;
    font-weight: 600;
}

/* ==========================================================================
   11. Page-Specific Styles
   ========================================================================== */

/* --------------------------------------------------------------------------
   11.1 Dashboard Page (Quick-Access & helper grids)
   -------------------------------------------------------------------------- */

.dashboard-grid { 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
    gap: 20px; 
    margin-bottom: 20px; 
}

.dashboard-grid-two-column { 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
    gap: 20px; 
    margin-bottom: 20px; 
}

/* --------------------------------------------------------------------------
   To-Do List – Responsive Two-Column Sections
   (Desktop default = two equal columns. Mobile/Tablet stacks; see media query)
   -------------------------------------------------------------------------- */
.todo-sections-container {
    display: flex;
    gap: 20px;
}

.todo-section {
    flex: 1;
}

/* --------------------------------------------------------------------------
   Quick Access Section Enhancements
   -------------------------------------------------------------------------- */
.quick-access-section {
    margin-bottom: 30px;        /* breathing room under section */
}

.quick-access-grid { 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); 
    gap: var(--box-padding); 
}

/* --------------------------------------------------------------------------
   Quick-Access items – stacked / centred
   -------------------------------------------------------------------------- */
.quick-access-item { 
    background-color: var(--secondary);
    color: var(--primary);
    border-radius: 12px;
    padding: 20px;
    text-align: left;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 1px solid var(--border-color);
    font-size: 14px;
    font-weight: 500;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.quick-access-item:hover { 
    background-color: var(--accent);
    color: var(--card-bg);
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}

.quick-access-item i { 
    font-size: 20px;
    margin-bottom: 20px;
    flex-shrink: 0;
}

.quick-access-item div {
    text-align: left;
}
.upload-category-container { 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
    gap: 20px; 
    margin-bottom: 20px; 
}

/* Upload button – distinct treatment ------------------------------------ */
.quick-access-item.upload-highlight {
    background-color: var(--primary);
    color: var(--card-bg);
    border: 1px solid var(--primary);
    transform: none;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

.quick-access-item.upload-highlight:hover {
    background-color: var(--accent);
    color: var(--card-bg);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(75, 163, 188, 0.3);
}

.quick-access-item.upload-highlight i {
    color: var(--card-bg);
    margin-bottom: 20px;
}

/* ---------------------- Progress helpers ------------------------------- */
.progress-container { margin: 15px 0 20px 0; }  /* extra bottom spacing under vault completion */
.progress-bar { height: 10px; background-color: var(--border-color); border-radius: 5px; overflow: hidden; margin-bottom: 5px; }
.progress-fill { height: 100%; background-color: var(--success); border-radius: 5px; width: 0; transition: width 1s ease; }
.incomplete { background-color: var(--warning) !important; }
.progress-text { display: flex; justify-content: space-between; font-size: 14px; color: var(--text-light); }
.document-categories { display: flex; flex-wrap: wrap; gap: var(--box-padding); }
.category-item {
    /* pill/tag look – mirrors .category-tab */
    background-color: var(--secondary);
    border: 1px solid var(--border-color);
    border-radius: 15px;
    padding: 5px 12px;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    box-shadow: none;
}
.category-item:hover:not(.active) {
    background-color: var(--primary-light);
    border-color: var(--primary-light);
    color: var(--card-bg);
}
.category-title {
    font-weight: 600;
    font-size: 14px;            /* match .category-tab */
    color: var(--primary);
    flex: 1;
    min-width: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.category-status { 
    /* Match document-status dots (small solid circles) */
    width: 12px;
    height: 12px;
    min-width: 12px;
    min-height: 12px;
    border-radius: 50%; 
    /* nothing to display inside, hide any icon that still exists */
    font-size: 0;
    line-height: 0;
    padding: 0;
    display: block;            /* simple block for dot */
    background-color: var(--success); 
    color: var(--card-bg); 
    flex-shrink: 0;            /* prevent shrinking when title is long */
    margin-left: 6px;          /* space between title and status */
}
.category-status i { display:none !important; }  /* ensure icons are hidden */
.category-status.incomplete { background-color: var(--warning); }
.category-status.expired { background-color: var(--danger); }

.activity-feed { max-height: 300px; overflow-y: auto; }
.activity-item { display: flex; align-items: flex-start; padding: 10px 0; border-bottom: 1px solid var(--border-color); }
.activity-item:last-child { border-bottom: none; }
.activity-icon { width: 30px; height: 30px; border-radius: 50%; background-color: var(--secondary); color: var(--primary); display: flex; justify-content: center; align-items: center; margin-right: 15px; flex-shrink: 0; }
.activity-content { flex-grow: 1; }
.activity-text { font-size: 14px; color: var(--text-dark); }
.activity-time { font-size: 12px; color: var(--text-light); }
.spotlight-content { display: grid; gap: var(--box-padding); }
.crisis-management {
    background-color: var(--accent);
    padding: 30px;
    border-radius: var(--border-radius);
    margin-top: 20px;
    margin-bottom: 20px;
    box-shadow: var(--shadow);                 /* match card shadow */
    transition: var(--transition);             /* smooth hover animation */
    border: 1px solid var(--border-color);     /* consistent border */
}
.crisis-management:hover {
    transform: translateY(-5px);               /* lift on hover */
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); /* deeper hover shadow */
}
.crisis-title { color: var(--card-bg); font-weight: 600; margin-bottom: 10px; font-size: 18px; }
.crisis-text { font-size: 14px; margin-bottom: 15px; color: var(--text-dark); }
.crisis-button { display: inline-block; padding: 10px 15px; background-color: var(--primary); color: var(--card-bg); border-radius: var(--border-radius-btn); font-weight: 600; cursor: pointer; transition: var(--transition); border: none; font-size: 14px; }
.crisis-button:hover { background-color: var(--primary-light); }
.crisis-todo-section { margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--border-color); }
.crisis-todo-section h4 { font-size: 16px; font-weight: 600; color: var(--primary); margin-bottom: 10px; }
.crisis-todo-list { list-style: none; padding-left: 0; }
.crisis-todo-list li { font-size: 14px; color: var(--text-medium); margin-bottom: 5px; padding-left: 20px; position: relative; }
.crisis-todo-list li::before { content: "\f00c"; font-family: "Font Awesome 5 Free"; font-weight: 900; position: absolute; left: 0; color: var(--success); }
.system-status { display: flex; justify-content: space-between; margin-top: 20px; background-color: var(--card-bg); padding: var(--box-padding); border-radius: var(--border-radius); box-shadow: var(--shadow); border: 1px solid var(--border-color); }
.status-item { display: flex; align-items: center; }
.status-indicator { width: 10px; height: 10px; border-radius: 50%; margin-right: 8px; }
.status-indicator.green { background-color: var(--success); }
.status-indicator.red { background-color: var(--danger); }
.status-indicator.yellow { background-color: var(--warning); }
.status-text { font-size: 14px; color: var(--text-medium); }
.right-sidebar { grid-area: rightbar; background-color: var(--card-bg); padding: 20px; box-shadow: -2px 0 5px rgba(0,0,0,0.05); overflow-y: auto; border-left: 1px solid var(--border-color); }
.sidebar-section { margin-bottom: 25px; }
.sidebar-title { font-size: 18px; font-weight: 600; color: var(--primary); margin-bottom: 15px; display: flex; align-items: center; }
.sidebar-section h4 { font-size: 16px; font-weight: 600; color: var(--primary); margin-top: 15px; margin-bottom: 10px; }
.sidebar-section h4:first-of-type { margin-top: 0; }
.sidebar-title i { margin-right: 10px; }
.sidebar-card {justify-content: space-between; align-items: center; text-align: center; padding: 0.25rem .25rem; background: var(--primary); color: var(--secondary);}
.sidebar-card-title {font-size:20px; margin-bottom: 10px; color: var(--secondary);}
.todo-list { list-style: none; }
.todo-item { display: flex; align-items: flex-start; margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px solid var(--border-color); }
.todo-item:last-child { border-bottom: none; }
.todo-checkbox { width: 20px; height: 20px; border: 2px solid var(--primary); border-radius: 4px; margin-right: 10px; cursor: pointer; position: relative; flex-shrink: 0; }
.todo-checkbox.checked { background-color: var(--primary); }
.todo-checkbox.checked::after { content: '✓'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: var(--card-bg); font-size: 12px; }
.todo-content { flex-grow: 1; }
.todo-text { font-size: 14px; margin-bottom: 5px; color: var(--text-dark); }
.todo-meta { font-size: 12px; color: var(--text-light); }
.countdown-item { background-color: var(--secondary); border-radius: var(--border-radius); padding: 12px; margin-bottom: 10px; }
.countdown-title { font-weight: 600; margin-bottom: 5px; font-size: 14px; color: var(--primary); }
.countdown-date { font-size: 12px; color: var(--text-medium); margin-bottom: 8px; }
.countdown-bar { height: 6px; background-color: var(--border-color); border-radius: 3px; overflow: hidden; }
.countdown-progress { height: 100%; background-color: var(--warning); border-radius: 3px; }
.connected-accounts { list-style: none; }
.account-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border-color); }
.account-item:last-child { border-bottom: none; }
.account-info { display: flex; align-items: center; }
.account-icon { width: 30px; height: 30px; border-radius: 50%; background-color: var(--secondary); display: flex; justify-content: center; align-items: center; margin-right: 10px; color: var(--primary); }
.account-name { font-size: 14px; color: var(--text-dark); }
.account-status { font-size: 12px; padding: 3px 8px; border-radius: 12px; }
.account-status.connected { background-color: var(--success); color: var(--card-bg); }
.account-status.pending { background-color: var(--warning); color: var(--card-bg); }
.member-list { list-style: none; }
.member-item { display: flex; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border-color); }
.member-item:last-child { border-bottom: none; }
.member-avatar { width: 40px; height: 40px; border-radius: 50%; background-color: var(--primary-light); color: var(--card-bg); display: flex; justify-content: center; align-items: center; font-size: 16px; margin-right: 10px; }
.member-info { flex-grow: 1; }
.member-name { font-size: 14px; font-weight: 600; color: var(--text-dark); }
.member-role { font-size: 12px; color: var(--text-light); }
.add-button { display: flex; align-items: center; justify-content: center; padding: 10px 15px; background-color: var(--primary); color: var(--card-bg); border-radius: var(--border-radius-btn); font-size: 14px; font-weight: 600; cursor: pointer; transition: var(--transition); margin-top:; border: none; }
.add-button i { margin-right: 8px; }
.add-button:hover { background-color: var(--primary-light); }

/* --- 11.2 Accounts Page Specific --- */
.page-description { font-size: 16px; color: var(--text-medium); margin-bottom: 20px; }
.accounts-overview { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 20px; }
.overview-card { background-color: var(--card-bg); border-radius: var(--border-radius); box-shadow: var(--shadow); padding: 20px; transition: var(--transition); display: flex; flex-direction: column; border: 1px solid var(--border-color); text-align: center; align-items: center; justify-content: center; }
.overview-card:hover { transform: translateY(-5px); box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); }
.overview-title { font-size: 16px; color: var(--text-light); margin-bottom: 10px; }
.overview-value { font-size: 28px; font-weight: 700; color: var(--primary); margin-bottom: 10px; }
.overview-change { font-size: 14px; display: flex; align-items: center; color: var(--text-medium); justify-content: center; }
.overview-change.positive { color: var(--success); }
.overview-change.negative { color: var(--danger); }
.overview-change i { margin-right: 5px; }
.search-filter-bar { display: flex; flex-wrap: wrap; gap: var(--box-padding); margin-bottom: 20px; background-color: var(--card-bg); padding: var(--box-padding); border-radius: var(--border-radius); box-shadow: var(--shadow); align-items: center; border: 1px solid var(--border-color); }
.search-box { flex-grow: 1; position: relative; min-width: 200px; }
.search-box input { width: 100%; padding: 10px 15px 10px 40px; border: 1px solid var(--border-color); border-radius: var(--border-radius); font-size: 16px; outline: none; }
.search-box i { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--text-light); }
.filter-dropdown { position: relative; min-width: 150px; }
.filter-dropdown select { width: 100%; padding: 10px 15px; border: 1px solid var(--border-color); border-radius: var(--border-radius); font-size: 16px; appearance: none; background-color: var(--card-bg); background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%236c757d' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 15px center; cursor: pointer; outline: none; color: var(--text-dark); }
.add-account-btn { background-color: var(--accent); color: var(--card-bg); } /* Uses .btn base */
.add-account-btn:hover { background-color: #0056b3; }
.account-categories { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; }
.category-tab {
    padding: 5px 12px;
    background-color: var(--secondary);
    border-radius: 15px;          /* pill/tag shape */
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    transition: var(--transition);
    white-space: nowrap;
    box-shadow: none;             /* remove card-like shadow */
    display: flex;
    align-items: center;
    color: var(--primary);
    border: 1px solid var(--border-color);
    margin-right: 5px;
}
.category-tab i { margin-right: 8px; }
.category-tab.active {
    background-color: var(--primary);
    color: var(--card-bg);
    border-color: var(--primary);
}
.category-tab:hover:not(.active) {
    background-color: var(--primary-light);
    border-color: var(--primary-light);
    color: var(--card-bg);
}
.add-folder-tab{
   background: var(--border-color);
   color: var(--text-light);
}
.account-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px; margin-bottom: 20px; }
.account-list.hidden { display: none !important; }
.account-card {
    background-color: var(--card-bg);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    overflow: hidden;
    transition: var(--transition);
    position: relative;
    border: 1px solid var(--border-color);
    display: flex;              /* make inner layout vertical */
    flex-direction: column;
    padding: var(--box-padding);
}
.account-card:hover { transform: translateY(-5px); box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); }
.account-header {
    padding: var(--box-padding);
    display: flex;
    align-items: center;
    border-bottom: none;        /* remove top border of the card */
}
.account-logo {
    width: 60px;
    height: 60px;
    border-radius: 50%;         /* make abbreviation circle */
    margin-right: 15px;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    font-size: 24px;
    font-weight: bold;
    flex-shrink: 0;
}
.wells-fargo-bg { background-color: var(--wells-fargo); }
.bank-of-america-bg { background-color: var(--bank-of-america); }
.edward-jones-bg { background-color: var(--edward-jones); }
.chase-bg { background-color: var(--chase); }
.citibank-bg { background-color: var(--citibank); }
.account-title { flex-grow: 1; }
.account-name { font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 5px; }
.account-number { font-size: 14px; color: var(--text-light); }
.account-status { position: absolute; top: 15px; right: 15px; width: 24px; height: 24px; border-radius: 50%; font-size: 12px; font-weight: 600; display: flex; justify-content: center; align-items: center; padding: 0; }
.account-status i {           /* ensure icon has space before the label */
    margin: 0;
}
.status-active { background-color: var(--success); color: var(--card-bg); }
.status-attention { background-color: var(--warning); color: var(--card-bg); }
.status-closed { background-color: var(--danger-light, #ffebee); color: var(--danger); }
.account-body {
    padding: var(--box-padding);
    flex-grow: 1;               /* occupy remaining space */
}
.account-info { display: flex; /*grid-template-columns: repeat(2, 1fr);*/ gap: 10px; margin-bottom: 15px; }
.info-item { display: flex; flex-direction: column; }
.info-label { font-size: 12px; color: var(--text-light); margin-bottom: 3px; }
.info-value { font-size: 14px; font-weight: 600; color: var(--text-dark); }
.account-advisor { display: flex; align-items: center; padding: 10px; background-color: var(--secondary); border-radius: var(--border-radius); margin-bottom: 15px; }
.advisor-avatar { width: 40px; height: 40px; border-radius: 50%; background-color: var(--primary-light); color: var(--card-bg); display: flex; justify-content: center; align-items: center; font-size: 16px; margin-right: 10px; flex-shrink: 0; }
.advisor-info { flex-grow: 1; }
.advisor-name { font-size: 14px; font-weight: 600; color: var(--text-dark); }
.advisor-role { font-size: 12px; color: var(--text-light); }
.account-actions {
    display: flex;
    /* spread icons evenly across the full width of the card footer */
    justify-content: space-between;
    padding: var(--box-padding);              /* consistent padding */
    margin-top: auto;           /* stick to card bottom */
    border-top: 1px solid var(--border-color);
}
.account-action { 
    width: 30px; 
    height: 30px; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    border-radius: 50%; 
    cursor: pointer; 
    transition: var(--transition); 
    color: var(--text-light);
}
.account-action:hover { 
    background-color: var(--secondary); 
    color: var(--primary); 
}
.empty-state { text-align: center; padding: 40px; background-color: var(--card-bg); border-radius: var(--border-radius); box-shadow: var(--shadow); margin: 20px 0; border: 1px solid var(--border-color); }
.empty-icon { font-size: 64px; color: var(--border-color); margin-bottom: 20px; }
.empty-title { font-size: 24px; font-weight: 600; color: var(--primary); margin-bottom: 10px; }
.empty-text { font-size: 16px; color: var(--text-medium); margin-bottom: 20px; }

/* --- 11.3 Vault Page Specific --- */
.vault-actions { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 10px; }
.vault-actions .search-bar { flex-grow: 1; max-width: 500px; } /* Vault search bar can be wider */
.action-buttons { display: flex; gap: 10px; }
.upload-zone { background-color: var(--card-bg); border: 2px dashed var(--text-light); border-radius: var(--border-radius); padding: 40px; text-align: center; margin-bottom:; transition: var(--transition); cursor: pointer; }
.upload-zone:hover { border-color: var(--card-bg); background-color: rgba(147, 214, 233, 0.55); }
.upload-zone.drag-over { border-color: var(--accent); background-color: rgba(0, 123, 255, 0.1); }
.upload-icon { font-size: 48px; color: var(--medium-bg); margin-bottom: 15px; }
.upload-title { font-size: 20px; font-weight: 600; margin-bottom: 10px; color: var(--primary); }
.upload-text { font-size: 16px; color: var(--text-medium); margin-bottom: 20px; }
.file-input { display: none; }
.category-tabs { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; }
/* .category-tab is already defined in Accounts, ensure consistency or make specific if needed */
.filter-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; background-color: var(--card-bg); padding: 10px 15px; border-radius: var(--border-radius); box-shadow: var(--shadow); border: 1px solid var(--border-color); }
.filter-options { display: flex; align-items: center; flex-wrap: wrap; gap: 10px; }
.filter-label { font-size: 14px; color: var(--text-light); margin-right: 10px; }
.filter-select { padding: 8px 12px; border: 1px solid var(--border-color); border-radius: var(--border-radius); background-color: var(--card-bg); font-size: 14px; color: var(--text-dark); cursor: pointer; margin-right: 15px; }
.view-options { display: flex; gap: 10px; }
.view-option { width: 35px; height: 35px; display: flex; justify-content: center; align-items: center; border-radius: var(--border-radius); cursor: pointer; transition: var(--transition); background-color: var(--secondary); color: var(--text-light); border: 1px solid var(--border-color); }
.view-option.active { background-color: var(--primary); color: var(--card-bg); border-color: var(--primary); }
.document-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
.document-card { /* Shared with accounts, ensure it works for both or specialize */ background-color: var(--card-bg); border-radius: var(--border-radius); overflow: hidden; box-shadow: var(--shadow); transition: var(--transition); position: relative; border: 1px solid var(--border-color); }
.document-card:hover { transform: translateY(-5px); box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); }
.document-preview { height: 150px; background-color: var(--secondary); display: flex; justify-content: center; align-items: center; position: relative; }
.document-icon { font-size: 48px; color: var(--primary); } /* Generic doc icon */
.document-preview .fa-file-pdf { color: #E53935; } /* PDF Red */
.document-preview .fa-file-word { color: #2B579A; } /* Word Blue */
.document-preview .fa-file-excel { color: #1D6F42; } /* Excel Green */
.document-preview .fa-file-image { color: #FFC107; } /* Image Yellow */
.document-preview .fa-file-archive { color: #795548; } /* Archive Brown */
.document-preview .fa-file-audio { color: #9C27B0; } /* Audio Purple */
.document-preview .fa-file-video { color: #F44336; } /* Video Red */
.document-type-badge {
    /* Hide document-type badge globally (requested) */
    display: none;
}
.document-status { position: absolute; top: 10px; left: 10px; width: 12px; height: 12px; border-radius: 50%; }
.status-complete { background-color: var(--success); }
.status-incomplete { background-color: var(--warning); }
.status-expired { background-color: var(--danger); }
.document-info { padding: var(--box-padding); }
.document-name { font-size: 16px; font-weight: 600; margin-bottom: 5px; color: var(--primary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.document-meta { 
    font-size: 12px; 
    color: var(--text-light); 
    margin-bottom: 10px; 
    display: grid;                     /* three even columns */
    grid-template-columns: repeat(3, 1fr);
    gap: 5px;
}

/* Last-modified date – prepend label */
.document-meta span:nth-child(3)::before {
    content: "Modified: ";
}
.document-actions { display: flex; justify-content: space-between; border-top: 1px solid var(--border-color); padding-top: 10px; }
.action-icon { width: 30px; height: 30px; display: flex; justify-content: center; align-items: center; border-radius: 50%; cursor: pointer; transition: var(--transition); color: var(--text-light); }
.action-icon:hover { background-color: var(--secondary); color: var(--primary); }
.document-list { display: none; flex-direction: column; gap: 10px; margin-bottom: 30px; }
.document-row { display: flex; align-items: center; background-color: var(--card-bg); border-radius: var(--border-radius); padding: var(--box-padding); box-shadow: var(--shadow); transition: var(--transition); border: 1px solid var(--border-color); }
.document-row:hover { transform: translateX(5px); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); }
.row-icon { font-size: 24px; color: var(--primary); margin-right: 15px; width: 40px; text-align: center; }
.row-info { flex-grow: 1; }
.row-name { font-size: 16px; font-weight: 600; color: var(--primary); }
.row-meta { font-size: 12px; color: var(--text-light); display: flex; gap: var(--box-padding); }
.row-status { display: flex; align-items: center; margin-right: 20px; color: var(--text-dark); }
.status-dot { width: 10px; height: 10px; border-radius: 50%; margin-right: 5px; }
.row-actions { display: flex; gap: 10px; }
.category-content { display: none; } /* Content for specific categories */
.category-content.active { display: block; }
.category-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.category-title { font-size: 14px; font-weight: 600; color: var(--primary); text-wrap: auto; }
.category-description { font-size: 14px; color: var(--text-medium); margin-bottom: 20px; background-color: var(--card-bg); padding: var(--box-padding); border-radius: var(--border-radius); box-shadow: var(--shadow); border: 1px solid var(--border-color); }
.document-preview-container {
    background-color: var(--secondary);
    border-radius: var(--border-radius);
    padding: 20px;
    /* removed bottom margin – handled by outer layout */
    height: 100%;
    min-height: 200px;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* --------------------------------------------------------------------------
Folder Structure Section
-------------------------------------------------------------------------- */

/* Folder Structure Section */
.folder-structure-section {
   background-color: var(--card-bg);
   border-radius: var(--border-radius);
   padding: var(--box-padding);
   margin-bottom:;
   box-shadow: var(--shadow);
   border: 1px solid var(--border-color);
}

.folder-section-header {
   display: flex;
   justify-content: space-between;
   align-items: center;
   margin-bottom: 20px;
}

.folder-section-title {
   font-size: 20px;
   font-weight: 600;
   color: var(--primary);
   display: flex;
   align-items: center;
   gap: 10px;
}

.folder-controls {
   display: flex;
   align-items: center;
   gap: var(--box-padding);
}

/* Folder Grid - Finder-style layout */
.folder-grid {
   display: grid;
   grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
   gap: var(--box-padding);
   margin-bottom: 15px;
}

/* Folder Card - Finder-style */
.folder-card {
   background: transparent;
   border: none;
   box-shadow: none;
   transition: var(--transition);
   cursor: pointer;
   position: relative;
   text-align: center;
   padding: var(--box-padding);
   border-radius: var(--border-radius);
}

.folder-card:hover {
   background-color: rgba(0, 123, 255, 0.05);
   transform: translateY(-5px);
   box-shadow: 0 8px var(--box-padding) rgba(0, 0, 0, 0.1);
}

/* Folder Icon Container */
.folder-preview {
   background: transparent;
   height: 90px;
   display: flex;
   justify-content: center;
   align-items: center;
   position: relative;
   margin-bottom: 8px;
}

/* Folder Icon - Finder-style */
.folder-icon {
   font-size: 64px;
   color: var(--primary-light);
   filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
}

/* Folder with shared icon overlay */
.folder-card[data-shared="true"] .folder-icon::after {
   content: '\f007';
   font-family: "Font Awesome 5 Free";
   font-weight: 900;
   position: absolute;
   top: 45%;
   left: 43%;
   transform: translate(-30%, -30%);
   font-size: 18px;
   color: var(--folder-blue-dark);
   background: var(--card-bg);
   border-radius: 50%;
   padding: 2px;
   width: 20px;
   height: 20px;
   display: flex;
   align-items: center;
   justify-content: center;
}

/* Folder Info - Clean Finder-style */
.folder-info {
   padding: 0;
   text-align: center;
}

.folder-name {
   font-size: 13px;
   font-weight: 500;
   color: var(--text-dark);
   margin-bottom: 2px;
   white-space: nowrap;
   overflow: hidden;
   text-overflow: ellipsis;
   line-height: 1.2;
}

.folder-meta {
   font-size: 11px;
   color: var(--text-light);
   margin: 0;
}

/* Selection and Actions - Hidden by default, shown on hover */
.folder-actions {
   position: absolute;
   top: 5px;
   right: 5px;
   display: flex;
   gap: 4px;
   opacity: 0;
   transition: var(--transition);
   background: rgba(255, 255, 255, 0.9);
   border-radius: var(--border-radius);
   padding: 4px;
   box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

.folder-card:hover .folder-actions {
   opacity: 1;
}

.folder-action-icon {
   width: 24px;
   height: 24px;
   display: flex;
   align-items: center;
   justify-content: center;
   border-radius: 4px;
   cursor: pointer;
   transition: var(--transition);
   font-size: 11px;
   color: var(--text-medium);
}

.folder-action-icon:hover {
   background-color: var(--primary);
   color: var(--card-bg);
}

.selection-checkbox {
   position: absolute;
   top: 8px;
   left: 8px;
   width: 18px;
   height: 18px;
   border: 2px solid var(--folder-blue);
   border-radius: 4px;
   cursor: pointer;
   background-color: var(--card-bg);
   opacity: 0;
   transition: var(--transition);
   z-index: 10;
}

.folder-card:hover .selection-checkbox {
   opacity: 1;
}

.selection-checkbox.checked {
   background-color: var(--folder-blue);
   border-color: var(--folder-blue);
}

.selection-checkbox.checked::after {
   content: '\f00c';
   font-family: "Font Awesome 5 Free";
   font-weight: 900;
   position: absolute;
   top: 50%;
   left: 50%;
   transform: translate(-50%, -50%);
   color: var(--card-bg);
   font-size: 10px;
}

/* Folder List - Table style like Finder list view */
.folder-list {
   display: none;
   background-color: var(--card-bg);
   border-radius: var(--border-radius);
   overflow: hidden;
   border: 1px solid var(--border-color);
}

.folder-list.active {
   display: block;
}

.folder-list-header {
   display: grid;
   grid-template-columns: 40px 1fr 80px 120px;
   gap: 10px;
   padding: 8px 12px;
   background-color: var(--secondary);
   font-size: 11px;
   font-weight: 600;
   color: var(--text-medium);
   text-transform: uppercase;
   border-bottom: 1px solid var(--border-color);
}

.folder-row {
   display: grid;
   grid-template-columns: 40px 1fr 80px 120px;
   gap: 10px;
   padding: 8px 12px;
   align-items: center;
   transition: var(--transition);
   cursor: pointer;
   border-bottom: 1px solid rgba(0,0,0,0.05);
}

.folder-row:hover {
   background-color: rgba(0, 123, 255, 0.05);
   transform: translateX(5px);
   box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.folder-row:last-child {
   border-bottom: none;
}

.folder-row-icon {
   font-size: 20px;
   color: var(--primary-light);
}

.folder-row-name {
   font-size: 13px;
   font-weight: 500;
   color: var(--text-dark);
}

.folder-row-type {
   font-size: 11px;
   color: var(--text-light);
}

.folder-row-items {
   font-size: 11px;
   color: var(--text-light);
}

.folder-row-modified {
   font-size: 11px;
   color: var(--text-light);
}

/* Folder Type Indicators */
.folder-type-indicator {
   position: absolute;
   bottom: 45px;
   right: 15px;
   width: 12px;
   height: 12px;
   border-radius: 50%;
   border: 2px solid var(--card-bg);
   box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.folder-type-indicator.legal { background-color: var(--danger); }
.folder-type-indicator.financial { background-color: var(--success); }
.folder-type-indicator.personal { background-color: #17a2b8; }
.folder-type-indicator.business { background-color: var(--warning); }
.folder-type-indicator.digital { background-color: #6f42c1; }
.folder-type-indicator.custom { background-color: #fd7e14; }

/* Empty State */
.folder-empty-state {
   text-align: center;
   padding: 60px 20px;
   color: var(--text-light);
}

.folder-empty-state i {
   font-size: 48px;
   margin-bottom: 15px;
   color: var(--text-light);
}

.folder-empty-state h3 {
   margin: 0 0 10px 0;
   color: var(--text-medium);
   font-size: 18px;
}

/* Custom styles for folder dropdown */
.folder-dropdown-container {
    position: relative;
    display: inline-block;
}

.folder-dropdown-trigger {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 15px;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: var(--transition);
    font-size: 20px;
    font-weight: 600;
    color: var(--primary);
    box-shadow: none;
}

.folder-dropdown-trigger:hover {
    background: var(--secondary);
    border-color: var(--primary);
    transform: translateY(-2px);
}

.folder-dropdown-trigger.active {
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(33, 37, 82, 0.1);
    background: var(--secondary);
}

.dropdown-arrow {
    transition: transform 0.2s ease;
    margin-left: 4px;
    font-size: 14px;
}

.folder-dropdown-trigger.active .dropdown-arrow {
    transform: rotate(180deg);
}

.folder-dropdown-menu {
    position: absolute;
    top: calc(100% + 5px);
    left: 0;
    min-width: 280px;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: var(--transition);
    max-height: 350px;
    overflow-y: auto;
}

.folder-dropdown-menu.active {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.folder-dropdown-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 15px;
    cursor: pointer;
    transition: var(--transition);
    border-bottom: 1px solid var(--border-color);
    font-size: 14px;
}

.folder-dropdown-item:last-child {
    border-bottom: none;
}

.folder-dropdown-item:hover {
    background: var(--secondary);
    color: var(--primary);
}

.folder-dropdown-item.selected {
    background: rgba(33, 37, 82, 0.1);
    color: var(--primary);
    font-weight: 600;
}

.folder-item-icon {
    width: 16px;
    text-align: center;
    color: var(--text-medium);
    flex-shrink: 0;
}

.folder-dropdown-item.selected .folder-item-icon {
    color: var(--primary);
}

.folder-item-text {
    flex: 1;
    font-weight: 500;
    color: var(--text-dark);
}

.folder-dropdown-item.selected .folder-item-text {
    color: var(--primary);
}

.folder-item-count {
    color: var(--text-light);
    font-size: 12px;
    flex-shrink: 0;
}

.folder-structure-section.viewing-folder-files .folder-grid,
.folder-structure-section.viewing-folder-files .folder-list {
    display: none;
}

.folder-structure-section.viewing-folder-files .folder-empty-state {
    display: none;
}


/* --------------------------------------------------------------------------
   Document Preview Modal – Two-Column Layout
   -------------------------------------------------------------------------- */
.document-modal-layout {
    display: flex;
    gap: 20px;
    padding: 20px;
}

.document-preview-column {
    flex: 1;
}

.document-info-column {
    flex: 1;
    background-color: var(--card-bg);
    padding: 20px;
    border-radius: var(--border-radius);
    display: flex;
    flex-direction: column;
    gap: var(--box-padding);
}

/* Buttons row under description in the document info column */
/* --------------------------------------------------------------------------
   Modal Container & Header/Footer Styling
   -------------------------------------------------------------------------- */
/* Main modal box */
.modal {
    background-color: var(--card-bg);
    border-radius: var(--border-radius);
    /* Centered, constrained width instead of spanning full page */
    width: 90%;
    max-width: 900px;
    max-height: 90vh;
    overflow-y: auto;
    position: relative;
    box-shadow: var(--shadow);
    border: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
}

/* Header styled like Quick-Access card */
.modal-header {
    background-color: var(--primary);
    color: var(--card-bg);
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-radius: var(--border-radius) var(--border-radius) 0 0;
}

.modal-title {
    margin: 0;
    color: var(--card-bg);
    font-size: 18px;
    font-weight: 600;
}

/* Circular close button */
.modal-close {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: var(--card-bg);
    color: var(--primary);
    border: none;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    font-size: 16px;
    transition: var(--transition);
}
.modal-close:hover {
    background-color: var(--primary-light);
    color: var(--card-bg);
}

/* --------------------------------------------------------------------------
   Modal Overlay (for popup background dim)
   -------------------------------------------------------------------------- */
.modal-overlay {
    display: none;               /* toggled via JS by adding .active */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

.modal-overlay.active {
    display: flex;
}

/* Fade / scale-in animation for modal */
@keyframes modalFadeIn {
    from {
        opacity: 0;
        transform: scale(0.9) translateY(-50px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* Apply animation when overlay becomes active */
.modal-overlay.active .modal {
    animation: modalFadeIn 0.3s ease-out;
}

/* Footer with right-justified, smaller buttons */
/* --------------------------------------------------------------------------
   Modal Footer – Icon Grid Actions
   -------------------------------------------------------------------------- */
/* --- Modal Footer ------------------------------------------------------- */
.modal-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background-color: var(--light-bg);
    border-top: 1px solid var(--border-color);
    border-radius: 0 0 var(--border-radius) var(--border-radius);
}

.modal-actions {
    display: flex;
    gap: 10px;
}

/* Icon-only buttons are now action-icon divs, so the btn-sm overrides are no
   longer needed and have been removed */

/* Small button utility */
.btn-sm {
    padding: 6px 12px;
    font-size: 12px;
}

.document-preview-placeholder { font-size: 72px; }
.document-details { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--box-padding); margin-bottom: 20px; }
.detail-item { display: flex; flex-direction: column; }
.detail-label { font-size: 14px; color: var(--text-light); margin-bottom: 5px; }
.detail-value { font-size: 16px; font-weight: 600; color: var(--text-dark); }
.tag-container { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; }
.tag { background-color: var(--primary-light); color: var(--primary); padding: 5px 10px; border-radius: 15px; font-size: 12px; display: flex; align-items: center; }
.tag i { margin-left: 5px; cursor: pointer; }
.add-tag { background-color: var(--border-color); color: var(--text-light); padding: 5px 10px; border-radius: 15px; font-size: 12px; cursor: pointer; display: flex; align-items: center; }
.add-tag i { margin-right: 5px; }
.progress-indicator { position: fixed; top: 20px; right: 20px; background-color: var(--card-bg); border-radius: var(--border-radius); padding: var(--box-padding); box-shadow: 0 5px 15px rgba(0,0,0,0.2); width: 300px; display: none; z-index: 1001; animation: slideIn 0.3s ease-out; border: 1px solid var(--border-color); }
.progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
.progress-title { font-size: 16px; font-weight: 600; color: var(--primary); }
.progress-close { cursor: pointer; color: var(--text-light); background: none; border: none; font-size: 1.2em; }
/* .progress-bar defined in dashboard styles, ensure it's general enough or duplicate/specialize */
/* .progress-fill defined in dashboard styles */
/* .progress-text defined in dashboard styles */
.bulk-actions { position: fixed; bottom: 0; left: 0; width: 100%; background-color: var(--primary); padding: 15px 20px; display: none; justify-content: space-between; align-items: center; z-index: 100; animation: slideUp 0.3s ease-out; }
.bulk-info { color: var(--card-bg); font-size: 16px; font-weight: 600; }
.bulk-buttons { display: flex; gap: 10px; }
.bulk-btn { padding: 8px 15px; border-radius: var(--border-radius); font-size: 14px; font-weight: 600; cursor: pointer; transition: var(--transition); display: flex; align-items: center; border: none; }
.bulk-btn i { margin-right: 5px; }
.bulk-btn-white { background-color: var(--card-bg); color: var(--primary); }
.bulk-btn-white:hover { background-color: var(--secondary); }
.bulk-btn-danger { background-color: var(--danger); color: var(--card-bg); }
.bulk-btn-danger:hover { background-color: #C82333; }
.selection-checkbox { position: absolute; top: 10px; right: 10px; width: 20px; height: 20px; border: 2px solid var(--card-bg); border-radius: 4px; cursor: pointer; background-color: rgba(0,0,0,0.2); z-index: 10; }
.selection-checkbox.checked { background-color: var(--primary); border-color: var(--primary); }
.selection-checkbox.checked::after { content: '\f00c'; font-family: "Font Awesome 5 Free"; font-weight: 900; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: var(--card-bg); font-size: 12px; }

/* --- 11.4 Resources Page Specific --- */
.resources-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px; }
.article-card { background-color: var(--card-bg); border-radius: var(--border-radius); box-shadow: var(--shadow); overflow: hidden; transition: transform 0.3s ease, box-shadow 0.3s ease; display: flex; flex-direction: column; border: 1px solid var(--border-color); }
.article-card:hover { transform: translateY(-5px); box-shadow: 0 8px 16px rgba(0,0,0,0.1); }
.article-thumbnail img { width: 100%; height: 180px; object-fit: cover; }
.article-content { padding: var(--box-padding); flex-grow: 1; display: flex; flex-direction: column; }
.article-title { font-size: 18px; font-weight: 600; color: var(--primary); margin-bottom: 10px; line-height: 1.3; }
.article-description { font-size: 14px; color: var(--text-medium); line-height: 1.5; margin-bottom: 15px; flex-grow: 1; }
.article-read-more { display: inline-block; padding: 8px 15px; background-color: var(--primary); color: var(--card-bg); border-radius: var(--border-radius); text-decoration: none; font-weight: 500; transition: background-color 0.3s ease; align-self: flex-start; }
.article-read-more:hover { background-color: var(--primary-light); }
.pagination-container { text-align: center; margin-top: 30px; }
.pagination-btn { /* Uses .btn and .btn-accent */ } 

/* --- 11.5 User Profile & Settings Pages Specific --- */
.profile-container { max-width: 900px; margin: 0 auto; }
.profile-tabs { display: flex; border-bottom: 1px solid var(--border-color); margin-bottom: 20px; overflow-x: auto; }
.profile-tab { padding: 10px 20px; font-size: 16px; font-weight: 600; cursor: pointer; transition: var(--transition); border-bottom: 3px solid transparent; color: var(--text-light); white-space: nowrap; }
.profile-tab.active { border-bottom-color: var(--primary); color: var(--primary); }
.profile-tab:hover:not(.active) { border-bottom-color: var(--secondary); color: var(--text-dark); }
.profile-picture-section { display: flex; align-items: center; gap: 20px; margin-bottom: 20px; }
.profile-avatar { width: 100px; height: 100px; border-radius: 50%; background-color: var(--secondary); display: flex; justify-content: center; align-items: center; font-size: 40px; color: var(--primary); border: 2px solid var(--primary); overflow: hidden; /* To contain img */ }
.profile-avatar img { width: 100%; height: 100%; object-fit: cover; }
.toggle-switch { position: relative; display: inline-block; width: 50px; height: 24px; }
.toggle-switch input { opacity: 0; width: 0; height: 0; }
.toggle-slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--border-color); transition: var(--transition); border-radius: 24px; }
.toggle-slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 4px; bottom: 4px; background-color: var(--card-bg); transition: var(--transition); border-radius: 50%; }
input:checked + .toggle-slider { background-color: var(--success); }
input:checked + .toggle-slider:before { transform: translateX(26px); }
.notification-preference { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border-color); }
.notification-preference:last-child { border-bottom: none; }
.billing-info-item { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid var(--border-color); }
.billing-info-item:last-child { border-bottom: none; }
.billing-label { font-weight: 600; color: var(--text-medium); }
.billing-value { color: var(--text-dark); }
.login-activity-table { width: 100%; border-collapse: collapse; margin-top: 15px; }
.login-activity-table th, .login-activity-table td { padding: 10px; text-align: left; border-bottom: 1px solid var(--border-color); }
.login-activity-table th { background-color: var(--secondary); color: var(--primary); }

/* --- 11.6 FAQ & Support Page Specific --- */
.faq-search-container { margin-bottom: 30px; max-width: 800px; position: relative; }
.faq-search { width: 100%; padding: 15px 20px; font-size: 18px; border: 2px solid var(--border-color); border-radius: var(--border-radius); background-color: var(--card-bg); box-shadow: var(--shadow); transition: var(--transition); padding-left: 50px; }
.faq-search:focus { border-color: var(--primary); outline: none; box-shadow: 0 0 0 3px rgba(0, 51, 102, 0.1); }
.search-icon { position: absolute; left: 20px; top: 50%; transform: translateY(-50%); color: var(--text-light); font-size: 20px; pointer-events: none; }
.faq-categories { display: flex; flex-wrap: wrap; gap: var(--box-padding); margin-bottom: 30px; }
.faq-category { padding: 10px 20px; background-color: var(--card-bg); border: 1px solid var(--border-color); border-radius: var(--border-radius); box-shadow: var(--shadow); font-weight: 600; cursor: pointer; transition: var(--transition); color: var(--primary); }
.faq-category:hover { transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1); border-color: var(--primary-light); }
.faq-category.active { background-color: var(--primary); color: var(--card-bg); border-color: var(--primary); }
.faq-container { max-width: 900px; margin-bottom: 40px; }
.faq-item { background-color: var(--card-bg); border: 1px solid var(--border-color); border-radius: var(--border-radius); box-shadow: var(--shadow); margin-bottom: 15px; overflow: hidden; transition: var(--transition); }
.faq-item:hover { box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); }
.faq-question { padding: 20px; font-size: 18px; font-weight: 600; color: var(--primary); cursor: pointer; display: flex; justify-content: space-between; align-items: center; position: relative; }
.faq-question::after { content: '\f067'; font-family: 'Font Awesome 5 Free'; font-weight: 900; color: var(--primary); transition: var(--transition); }
.faq-item.active .faq-question::after { content: '\f068'; transform: rotate(180deg); }
.faq-answer { padding: 0 20px; max-height: 0; overflow: hidden; transition: max-height 0.5s ease, padding 0.5s ease; color: var(--text-medium); }
.faq-item.active .faq-answer { padding: 0 20px 20px; max-height: 1000px; }
.faq-answer p { margin-bottom: 15px; font-size: 16px; line-height: 1.6; }
.faq-answer ul, .faq-answer ol { margin-left: 20px; margin-bottom: 15px; }
.faq-answer li { margin-bottom: 10px; }
.support-section { background-color: var(--primary-light); color: var(--card-bg); padding: 30px; border-radius: var(--border-radius); margin-top: 40px; max-width: 900px; }
.support-title { font-size: 24px; font-weight: 600; margin-bottom: 15px; }
.support-text { font-size: 16px; margin-bottom: 20px; }
.support-options { display: flex; flex-wrap: wrap; gap: 20px; }
.support-option { flex: 1; min-width: 250px; background-color: rgba(255, 255, 255, 0.1); padding: 20px; border-radius: var(--border-radius); transition: var(--transition); }
.support-option:hover { background-color: rgba(255, 255, 255, 0.2); transform: translateY(-5px); }
.support-option-title { font-size: 18px; font-weight: 600; margin-bottom: 10px; display: flex; align-items: center; }
.support-option-title i { margin-right: 10px; font-size: 20px; }
.support-option-text { font-size: 14px; margin-bottom: 15px; }
/* --------------------------------------------------------------------------
   Support Call-to-Action Button (continue & close truncation)
   -------------------------------------------------------------------------- */
.support-button { display: inline-block; padding: 10px 20px; background-color: var(--card-bg); color: var(--primary); border-radius: var(--border-radius-btn); font-weight: 600; transition: var(--transition); }
.support-button:hover { background-color: var(--secondary); color: var(--primary); transform: translateY(-2px); }

/* --------------------------------------------------------------------------
   Mobile Menu Toggle (Hidden on Desktop)
   -------------------------------------------------------------------------- */
.mobile-menu-toggle {
    display: none;
    background: none;
    border: none;
    font-size: 18px;
    color: var(--card-bg);
    cursor: pointer;
    padding: 10px;
}

/* ==========================================================================
   14. Responsive Styles
   ========================================================================== */

@media (max-width: 1200px) {
    .container {
        grid-template-columns: 1fr 250px;
    }
}

@media (max-width: 992px) {
    .container {
        grid-template-columns: 1fr;
        grid-template-rows: 70px 60px auto 1fr;
        grid-template-areas:
            "header"
            "nav"
            "alert"
            "main";
    }

    .right-sidebar {
        display: none;
    }

    .dashboard-grid-two-column,
    .dashboard-grid {
        grid-template-columns: 1fr;
    }

    .accounts-overview,
    .resources-grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }

    .overview-grid {
        grid-template-columns: 1fr;
    }

    .account-metrics {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .container {
        grid-template-rows: 70px auto auto 1fr;
    }

    /* Mobile Navigation Styles - UPDATED Z-INDEX */
    .horizontal-nav {
        padding: 0 20px;
        position: sticky;
        z-index: 1000; /* Higher z-index for nav container */
    }

    .nav-items {
        display: none;
        flex-direction: column;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background-color: var(--primary);
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        z-index: 9999; /* Much higher z-index */
        margin: 0;
        padding: 0;
    }

    .nav-items.show {
        display: flex !important;
        z-index: 9999; /* Ensure it stays on top when shown */
    }

    .nav-item {
        width: 100%;
        padding: 15px 20px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        font-size: 14px;
        text-transform: none;
        letter-spacing: normal;
        display: flex;
        align-items: center;
        cursor: pointer;
        position: relative; /* Ensure nav items have positioning context */
        z-index: 10000; /* Even higher for individual items */
    }

    .nav-item:last-child {
        border-bottom: none;
    }

    .nav-item:hover {
        background-color: rgba(255, 255, 255, 0.1);
    }

    .mobile-menu-toggle {
        display: block !important;
        margin-left: auto;
        padding: 10px;
        cursor: pointer;
        z-index: 10001; /* Highest z-index for the toggle button */
        position: relative;
    }

    /* Header adjustments */
    .header {
        padding: 0 15px;
    }

    .logo h1 {
        font-size: 20px;
    }

    .user-info {
        display: none;
    }

    /* Content adjustments */
    .page-title {
        font-size: 24px;
    }

    .dashboard-header-row {
        flex-direction: column;
        align-items: flex-start;
    }

    .dashboard-header-row img {
        align-self: center;
        margin-top: 10px;
    }

    .form-row {
        flex-direction: column;
        margin: 0 0 20px 0;
    }

    .form-group {
        margin: 0 0 15px 0;
    }

    .accounts-overview {
        grid-template-columns: 1fr;
    }

    .search-filter-bar {
        flex-direction: column;
        align-items: stretch;
    }

    .filter-dropdown {
        width: 100%;
    }

    .account-list {
        grid-template-columns: 1fr;
    }

    .document-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    }
    
    .filter-bar { 
        display: grid; 
        gap: 20px; 
        padding: var(--box-padding);
    }
    
    .filter-select {
        width: 100%;
    }

    /* Stack To-Do List sections on tablet/mobile */
    .todo-sections-container {
        flex-direction: column;
    }

    .todo-section {
        width: 100%;
    }

    .folder-section-header {
        flex-direction: column;
        gap: 15px;
        align-items: flex-start;
    }
    
    .folder-controls {
        width: 100%;
        justify-content: space-between;
    }
    
    .folder-grid {
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
        gap: var(--box-padding);
    }
    
    .folder-list-header,
    .folder-row {
        grid-template-columns: 30px 1fr 60px;
        gap: 8px;
    }
    
    .folder-row-type,
    .folder-row-modified {
        display: none;
    }
    
    /* Custom styles for folder dropdown */
    .folder-dropdown-trigger {
        font-size: 18px;
        padding: 8px 12px;
    }
     
    .folder-dropdown-menu {
        min-width: 250px;
        max-height: 280px;
    }
     
    .folder-dropdown-item {
        padding: 10px 12px;
        font-size: 13px;
    }
}